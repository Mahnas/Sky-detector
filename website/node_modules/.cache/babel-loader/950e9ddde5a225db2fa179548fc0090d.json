{"ast":null,"code":"var _jsxFileName = \"/home/chirag/Documents/WebD/SIH/website/src/components/UploadItemComponent.js\";\nimport React, { Component } from 'react';\nimport ImageUploader from 'react-images-upload';\nimport { Button, Label, Col, Row, Input } from 'reactstrap';\n\nconst required = val => val && val.length;\n\nconst requiredNum = val => !!val;\n\nconst minLength = len => val => val && val.length >= len;\n\nconst maxVal = len => val => !val || val <= len;\n\nconst minVal = len => val => val && val >= len;\n\nconst isNumber = val => !isNaN(Number(val));\n\nconst multiple = num => val => !val || val % num === 0;\n/*let fileAdder=(e)=>{\n    this.setState({imageFiles: this.state.imageFiles.concat(e.target.files)})\n};*/\n\n\nexport const baseUrl = 'http://4432c9ca.ngrok.io/';\nexport const imageUrl = baseUrl + 'public/';\n\nclass UploadItem extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      bid: false,\n      images: null,\n      imageFiles: [],\n      submitted: false\n    };\n    this.onDrop = this.onDrop.bind(this);\n  }\n\n  onDrop(image) {\n    console.log(image);\n    this.setState({\n      images: image\n    });\n  }\n\n  componentDidMount() {\n    window.scrollTo(0, 0);\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"container  \",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"row justify-content-center heading\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-12\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48\n      },\n      __self: this\n    }, React.createElement(\"h3\", {\n      align: \"center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49\n      },\n      __self: this\n    }, \" Upload an image\"))), React.createElement(Row, {\n      className: \"row row-content justify-content-center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52\n      },\n      __self: this\n    }, React.createElement(ImageUploader, {\n      withIcon: true,\n      label: \"Recommended height : 256px, .jpg,.png,.jpeg allowed\",\n      buttonText: \"Choose images\",\n      withLabel: true,\n      onChange: this.onDrop,\n      labelClass: \"text-secondary\",\n      imgExtension: ['.jpg', '.gif', '.png', '.jpeg'],\n      maxFileSize: 5242880,\n      withPreview: true,\n      className: \"uploader\",\n      name: \"images\",\n      singleImage: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53\n      },\n      __self: this\n    })), React.createElement(Row, {\n      className: \"align-self-center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }, React.createElement(Col, {\n      className: \"text-center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }, React.createElement(Button, {\n      className: \"bg-primary\",\n      onClick: () => {\n        let formData = new FormData(); // Assume \"photo\" is the name of the form field the server expects\n\n        formData.append('image', this.state.images[0]);\n        formData.append('username', 'cjchirag7');\n        formData.append('addr1', 'IIT (ISM) Campus');\n        formData.append('addr2', 'Dhanbad, Jharkhand');\n        return fetch(`${baseUrl}get_mask`, {\n          method: 'POST',\n          body: formData,\n          header: {\n            'content-type': 'multipart/form-data'\n          },\n          credentials: 'same-origin'\n        }).then(response => {\n          if (response.ok) {\n            return response;\n          }\n\n          const error = new Error(`Error ${response.status}: ${response.statusText}`);\n          error.response = response;\n          throw error;\n        }, error => {\n          const errmess = new Error(error.message);\n          throw errmess;\n        }).then(response => response.json()).then(response => {\n          const mask = response.mask,\n                angles = response.angles,\n                percent = response.percent,\n                image = response.image,\n                error = response.error;\n\n          if (error) {\n            alert('Image not uploaded properly.');\n            console.log(error);\n            return;\n          }\n\n          this.setState({\n            mask: mask,\n            angles: angles,\n            percent: percent,\n            submitted: true\n          });\n        }).catch(error => {\n          console.log(error.message);\n          alert(error.message);\n        });\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    }, \"Submit\"))), this.state.submitted ? React.createElement(Row, {\n      className: \"row justify-content-center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      src: imageUrl + this.state.mask,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145\n      },\n      __self: this\n    })) : '', React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153\n      },\n      __self: this\n    }), \" \", React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156\n      },\n      __self: this\n    }), \" \", React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157\n      },\n      __self: this\n    }));\n  }\n\n}\n\nexport default UploadItem;","map":{"version":3,"sources":["/home/chirag/Documents/WebD/SIH/website/src/components/UploadItemComponent.js"],"names":["React","Component","ImageUploader","Button","Label","Col","Row","Input","required","val","length","requiredNum","minLength","len","maxVal","minVal","isNumber","isNaN","Number","multiple","num","baseUrl","imageUrl","UploadItem","constructor","props","state","bid","images","imageFiles","submitted","onDrop","bind","image","console","log","setState","componentDidMount","window","scrollTo","render","formData","FormData","append","fetch","method","body","header","credentials","then","response","ok","error","Error","status","statusText","errmess","message","json","mask","angles","percent","alert","catch"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport ImageUploader from 'react-images-upload';\nimport { Button, Label, Col, Row, Input } from 'reactstrap';\n\nconst required = val => val && val.length;\nconst requiredNum = val => !!val;\nconst minLength = len => val => val && val.length >= len;\nconst maxVal = len => val => !val || val <= len;\nconst minVal = len => val => val && val >= len;\nconst isNumber = val => !isNaN(Number(val));\nconst multiple = num => val => !val || val % num === 0;\n\n/*let fileAdder=(e)=>{\n    this.setState({imageFiles: this.state.imageFiles.concat(e.target.files)})\n};*/\n\nexport const baseUrl = 'http://4432c9ca.ngrok.io/';\n\nexport const imageUrl = baseUrl + 'public/';\n\nclass UploadItem extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      bid: false,\n      images: null,\n      imageFiles: [],\n      submitted: false\n    };\n    this.onDrop = this.onDrop.bind(this);\n  }\n\n  onDrop(image) {\n    console.log(image);\n    this.setState({\n      images: image\n    });\n  }\n\n  componentDidMount() {\n    window.scrollTo(0, 0);\n  }\n\n  render() {\n    return (\n      <div className='container  '>\n        <div className='row justify-content-center heading'>\n          <div className='col-12'>\n            <h3 align='center'> Upload an image</h3>\n          </div>\n        </div>\n        <Row className='row row-content justify-content-center'>\n          <ImageUploader\n            withIcon={true}\n            label='Recommended height : 256px, .jpg,.png,.jpeg allowed'\n            buttonText='Choose images'\n            withLabel={true}\n            onChange={this.onDrop}\n            labelClass='text-secondary'\n            imgExtension={['.jpg', '.gif', '.png', '.jpeg']}\n            maxFileSize={5242880}\n            withPreview\n            className='uploader'\n            name='images'\n            singleImage\n          />\n        </Row>\n        {/* <Row className='form-group'>\n          <Label htmlFor='description' md={2}>\n            Add\n          </Label>\n          <Col md={10}>\n            <Input\n              model='.description'\n              id='description'\n              name='description'\n              placeholder='Some description of the product'\n              className='form-control'\n            />\n          </Col>\n        </Row> */}\n        <Row className='align-self-center'>\n          <Col className='text-center'>\n            <Button\n              className='bg-primary'\n              onClick={() => {\n                let formData = new FormData();\n                // Assume \"photo\" is the name of the form field the server expects\n                formData.append('image', this.state.images[0]);\n                formData.append('username', 'cjchirag7');\n                formData.append('addr1', 'IIT (ISM) Campus');\n                formData.append('addr2', 'Dhanbad, Jharkhand');\n                return fetch(`${baseUrl}get_mask`, {\n                  method: 'POST',\n                  body: formData,\n                  header: {\n                    'content-type': 'multipart/form-data'\n                  },\n                  credentials: 'same-origin'\n                })\n                  .then(\n                    response => {\n                      if (response.ok) {\n                        return response;\n                      }\n\n                      const error = new Error(\n                        `Error ${response.status}: ${response.statusText}`\n                      );\n                      error.response = response;\n                      throw error;\n                    },\n                    error => {\n                      const errmess = new Error(error.message);\n                      throw errmess;\n                    }\n                  )\n                  .then(response => response.json())\n                  .then(response => {\n                    const { mask, angles, percent, image, error } = response;\n                    if (error) {\n                      alert('Image not uploaded properly.');\n                      console.log(error);\n                      return;\n                    }\n                    this.setState({\n                      mask: mask,\n                      angles: angles,\n                      percent: percent,\n                      submitted: true\n                    });\n                  })\n                  .catch(error => {\n                    console.log(error.message);\n                    alert(error.message);\n                  });\n              }}\n            >\n              Submit\n            </Button>\n          </Col>\n        </Row>\n        {this.state.submitted ? (\n          <Row className='row justify-content-center'>\n            <img src={imageUrl + this.state.mask} />\n          </Row>\n        ) : (\n          ''\n        )}\n        <br />\n        <br />\n        <br />\n        <br /> <br />\n        <br />\n        <br />\n        <br /> <br />\n        <br />\n      </div>\n    );\n  }\n}\n\nexport default UploadItem;\n"]},"metadata":{},"sourceType":"module"}